<!DOCTYPE html>
<html lang="zh-cn">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<title>sockjs</title>
<link rel="icon" href="favicon.ico">
<link
	href="http://cdn.bootcss.com/bootstrap/3.3.1/css/bootstrap.min.css"
	rel="stylesheet">
<script src="http://cdn.bootcss.com/jquery/2.1.3/jquery.js"></script>
<script src="//cdn.bootcss.com/sockjs-client/1.1.1/sockjs.min.js"></script>
<script type="text/javascript">

	function testsockjs(){
		var sock = new SockJS("http://localhost:8080/ssmbootstrap_table/wsockjs");
		 sock.onopen = function() {
		     console.log('open');
		 };
		 sock.onmessage = function(e) {
		     console.log('message', e.data);
		 };
		 sock.onclose = function() {
		     console.log('close');
		 };

		 sock.send('test');
		 sock.close();
	}
	
	function testws(){
		var target = "ws://127.0.0.1:8080/ssmbootstrap_table/ws";
		if ('WebSocket' in window) {
		    ws = new WebSocket(target);
		} else if ('MozWebSocket' in window) {
		    ws = new MozWebSocket(target);
		} else {
		    alert('WebSocket is not supported by this browser.');
		    return;
		}
		ws.onopen = function () {
		    console.log('Info: WebSocket connection opened.');
		};
		ws.onmessage = function (event) {
		    console.log('Received: ' + event.data);
		};
		ws.onclose = function () {
		    console.log('Info: WebSocket connection closed.');
		};
	}
</script>
</head>
<body>
	<div class="container">
		<hr/>
		<button class="btn btn-primary" onclick="testsockjs();">testsockjs</button>&emsp;<button class="btn btn-warning" onclick="testws();">testws</button>
	</div>
</body>
</html>